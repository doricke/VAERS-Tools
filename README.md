# <h2>VAERS-Tools</h2>
Tools for data mining Vaccine Adverse Event Reporting System (VAERS)

This is a simple tool for summarizing adverse event symptoms from the VAERS database.
This program is written in the Ruby language.

<h3>Setup steps</h3>:
  1. Setup the Ruby language on your computer; see https://www.ruby-lang.org/en/downloads/

  2. Download the VAERS Tools to your computer

  3. Download the VAERS zip files from https://vaers.hhs.gov/data/datasets.html

  4. Unzip these files in a working directory

Running vaers_tally.rb

  5. Run the vaers_tally.rb program

    ruby vaers_tally.rb > R_tally.tsv

  6. The tab-delimited reports are written to the specified output file (e.g., R_tally.tsv).

     These reports include:
	- Report by vaccine and dose
	- Adverse events by vaccine
	- Summary by data of onset by vaccine


Running vaers_slice.rb

  5. Define the VAERS symptoms in text files; example "dysmenorrhoea.txt"

        Dysmenorrhoea

  6. Run the ruby_slice.rb program

        ruby vaers_slice.rb dysmenorrhoea.txt > R_dysmenorrhoea.tsv

  7. The tab-delimited reports are written to the specified output file (e.g., R_dysmenorrhoea.tsv).
	These reports include:
	- Summary dose report by vaccine
	- Age report with summaries by dose and gender
	- Day of onset report with summaries by dose and gender
	- Day of onset report by vaccine 
	- Co-occurrence report for selected adverse events 
	- Other symptoms reported by vaccinees with selected adverse events

<h3>Report excerpts from vaers_slice.rb (Data to Sept 2, 2022)</h3>:

Vaccine Name	All	1	2	3	4
COVID19 (COVID19 (PFIZER-BIONTECH)	4325	2350	1523	92	3
COVID19 (COVID19 (MODERNA)	1032	506	351	47	2
COVID19 (COVID19 (JANSSEN)	221	145	5		
HPV (GARDASIL)	162	49	33	40	1
HPV (CERVARIX)	97	29	9	30	
 
Age report						
Age	COVID19 (PFIZER-BIONTECH)	All	COVID19 (MODERNA)	All	COVID19 (JANSSEN)	All
10	COVID19 (PFIZER-BIONTECH)	1	COVID19 (MODERNA)	 	COVID19 (JANSSEN)	
11	COVID19 (PFIZER-BIONTECH)	4	COVID19 (MODERNA)	 	COVID19 (JANSSEN)	
12	COVID19 (PFIZER-BIONTECH)	6	COVID19 (MODERNA)	 	COVID19 (JANSSEN)	
13	COVID19 (PFIZER-BIONTECH)	5	COVID19 (MODERNA)	 	COVID19 (JANSSEN)	
14	COVID19 (PFIZER-BIONTECH)	16	COVID19 (MODERNA)	 	COVID19 (JANSSEN)	
15	COVID19 (PFIZER-BIONTECH)	15	COVID19 (MODERNA)	 	COVID19 (JANSSEN)	
16	COVID19 (PFIZER-BIONTECH)	26	COVID19 (MODERNA)	 	COVID19 (JANSSEN)	
17	COVID19 (PFIZER-BIONTECH)	15	COVID19 (MODERNA)	 	COVID19 (JANSSEN)	
18	COVID19 (PFIZER-BIONTECH)	11	COVID19 (MODERNA)	8	COVID19 (JANSSEN)	3
19	COVID19 (PFIZER-BIONTECH)	12	COVID19 (MODERNA)	6	COVID19 (JANSSEN)	1
20	COVID19 (PFIZER-BIONTECH)	35	COVID19 (MODERNA)	15	COVID19 (JANSSEN)	1
21	COVID19 (PFIZER-BIONTECH)	30	COVID19 (MODERNA)	13	COVID19 (JANSSEN)	4
22	COVID19 (PFIZER-BIONTECH)	23	COVID19 (MODERNA)	18	COVID19 (JANSSEN)	7
23	COVID19 (PFIZER-BIONTECH)	39	COVID19 (MODERNA)	16	COVID19 (JANSSEN)	2
24	COVID19 (PFIZER-BIONTECH)	51	COVID19 (MODERNA)	22	COVID19 (JANSSEN)	2
25	COVID19 (PFIZER-BIONTECH)	50	COVID19 (MODERNA)	21	COVID19 (JANSSEN)	4
26	COVID19 (PFIZER-BIONTECH)	59	COVID19 (MODERNA)	37	COVID19 (JANSSEN)	5
27	COVID19 (PFIZER-BIONTECH)	49	COVID19 (MODERNA)	31	COVID19 (JANSSEN)	2
28	COVID19 (PFIZER-BIONTECH)	71	COVID19 (MODERNA)	27	COVID19 (JANSSEN)	2
29	COVID19 (PFIZER-BIONTECH)	67	COVID19 (MODERNA)	52	COVID19 (JANSSEN)	7
30	COVID19 (PFIZER-BIONTECH)	65	COVID19 (MODERNA)	49	COVID19 (JANSSEN)	8
31	COVID19 (PFIZER-BIONTECH)	66	COVID19 (MODERNA)	45	COVID19 (JANSSEN)	6
32	COVID19 (PFIZER-BIONTECH)	72	COVID19 (MODERNA)	38	COVID19 (JANSSEN)	10
33	COVID19 (PFIZER-BIONTECH)	85	COVID19 (MODERNA)	36	COVID19 (JANSSEN)	6
34	COVID19 (PFIZER-BIONTECH)	72	COVID19 (MODERNA)	39	COVID19 (JANSSEN)	12
35	COVID19 (PFIZER-BIONTECH)	63	COVID19 (MODERNA)	40	COVID19 (JANSSEN)	4
36	COVID19 (PFIZER-BIONTECH)	87	COVID19 (MODERNA)	37	COVID19 (JANSSEN)	14
37	COVID19 (PFIZER-BIONTECH)	64	COVID19 (MODERNA)	41	COVID19 (JANSSEN)	8
38	COVID19 (PFIZER-BIONTECH)	73	COVID19 (MODERNA)	34	COVID19 (JANSSEN)	8
39	COVID19 (PFIZER-BIONTECH)	75	COVID19 (MODERNA)	35	COVID19 (JANSSEN)	12
40	COVID19 (PFIZER-BIONTECH)	61	COVID19 (MODERNA)	38	COVID19 (JANSSEN)	6
41	COVID19 (PFIZER-BIONTECH)	50	COVID19 (MODERNA)	32	COVID19 (JANSSEN)	15
42	COVID19 (PFIZER-BIONTECH)	46	COVID19 (MODERNA)	31	COVID19 (JANSSEN)	7
43	COVID19 (PFIZER-BIONTECH)	58	COVID19 (MODERNA)	25	COVID19 (JANSSEN)	3
44	COVID19 (PFIZER-BIONTECH)	40	COVID19 (MODERNA)	24	COVID19 (JANSSEN)	4
45	COVID19 (PFIZER-BIONTECH)	56	COVID19 (MODERNA)	21	COVID19 (JANSSEN)	2
46	COVID19 (PFIZER-BIONTECH)	34	COVID19 (MODERNA)	12	COVID19 (JANSSEN)	5
47	COVID19 (PFIZER-BIONTECH)	28	COVID19 (MODERNA)	23	COVID19 (JANSSEN)	3
48	COVID19 (PFIZER-BIONTECH)	32	COVID19 (MODERNA)	14	COVID19 (JANSSEN)	5
49	COVID19 (PFIZER-BIONTECH)	28	COVID19 (MODERNA)	22	COVID19 (JANSSEN)	2
50	COVID19 (PFIZER-BIONTECH)	19	COVID19 (MODERNA)	22	COVID19 (JANSSEN)	1
51	COVID19 (PFIZER-BIONTECH)	20	COVID19 (MODERNA)	13	COVID19 (JANSSEN)	3
52	COVID19 (PFIZER-BIONTECH)	10	COVID19 (MODERNA)	6	COVID19 (JANSSEN)	3
53	COVID19 (PFIZER-BIONTECH)	14	COVID19 (MODERNA)	9	COVID19 (JANSSEN)	4
54	COVID19 (PFIZER-BIONTECH)	16	COVID19 (MODERNA)	6	COVID19 (JANSSEN)	1
55	COVID19 (PFIZER-BIONTECH)	13	COVID19 (MODERNA)	2	COVID19 (JANSSEN)	

Onset report summary					
Onset	COVID19 (COVID19 (COVID19 (PFIZER-BIONTECH))	COVID19 (COVID19 (COVID19 (MODERNA))	COVID19 (COVID19 (COVID19 (JANSSEN))	HPV (GARDASIL)	HPV (CERVARIX)
0	1583	242	81	99	65
1	413	143	26	6	6
2	231	66	12	1	
3	145	57	13	3	
4	126	24	5	6	
5	148	23	7	3	2
6	140	18	3	1	2
7	129	37	5	3	2

Symptoms report	(sorted)
Adverse event	Dysmenorrhoea
Heavy menstrual bleeding	2988
SARS-CoV-2 test	1675
Menstruation irregular	1223
Menstrual disorder	908
Fatigue	820
Headache	728
Pain	665
Menstruation delayed	559
Nausea	556
Intermenstrual bleeding	453
Muscle spasms	386
Pain in extremity	358
Dizziness	336
Pyrexia	336
Polymenorrhoea	315
Malaise	256
Inappropriate schedule of product administration	247
Vomiting	231
Myalgia	227
Back pain	210
Thrombosis	189
Haemorrhage	184
Vaginal haemorrhage	184
Abdominal pain	183
Migraine	182
Arthralgia	171
Chills	160
Abdominal distension	148
Oligomenorrhoea	146
Condition aggravated	143
Feeling abnormal	142
Syncope	140
Postmenopausal haemorrhage	132
Diarrhoea	128
Dyspnoea	128
Asthenia	124
Hypomenorrhoea	123
Loss of personal independence in daily activities	121
Abdominal pain upper	115
Hypoaesthesia	112
Palpitations	110
Lymphadenopathy	108
Hyperhidrosis	107
Insomnia	107
Sleep disorder	107
Paraesthesia	102
Breast pain	100
Premenstrual syndrome	97
Off label use	92
Impaired work ability	86
Amenorrhoea	83
Muscular weakness	83
Blood test	82
Injection site pain	82
Vaccination site pain	82
Rash	81
Tremor	81
Pruritus	74
Hot flush	72
Ultrasound scan	72
Gait disturbance	66
Premenstrual pain	65
Influenza like illness	64
Mobility decreased	62
Anxiety	61
Mood swings	61
Memory impairment	59
Decreased appetite	58
Somnolence	58
Pelvic pain	57
Photophobia	57
Menorrhagia	53
Product use issue	53
Breast tenderness	52
Neck pain	52
Discomfort	51
Disturbance in attention	51
Endometriosis	51
Heart rate increased	51
Illness	51
Visual impairment	50


<h3>Report excerpts from vaers_tally.rb (Data to Sept 2, 2022)</h3>:

Vaccine Name	All	1	2	3	4	5	6	7+	UNK	N/A
COVID19 (COVID19 (PFIZER-BIONTECH))	638474	262456	220916	47643	8712	219	90	38	97892	508
COVID19 (COVID19 (MODERNA))	448226	223705	113239	38216	7562	216	35	281	64435	537
COVID19 (COVID19 (JANSSEN))	80858	42141	2076	317	42	47	8	10	34149	2068
VARICELLA (VARIVAX)	79636	31593	18366	762	96	28	11	20	28726	34
MEASLES + MUMPS + RUBELLA (MMR II)	76777	27427	24633	1342	134	58	12	19	23100	52
PNEUMO (PNEUMOVAX)	59945	20690	7252	504	135	57	22	50	30401	834
ZOSTER (SHINGRIX)	59316	28517	19103	474	23	11	3	13	11123	49
HPV (GARDASIL)	46384	16557	8878	6403	322	14	13	9	14188	
ZOSTER LIVE (ZOSTAVAX)	42483	12958	1436	17	8	5	2	16	27955	86
PNEUMO (PREVNAR13)	39141	11723	4854	3289	3915	452	20	16	14631	241
INFLUENZA (SEASONAL) (FLUZONE)	36823	10620	4154	1763	1132	698	547	1188	16719	2
HEP B (ENGERIX-B)	33886	9166	7538	7102	1298	308	126	32	8300	16
INFLUENZA (SEASONAL) (NO BRAND NAME)	28721	3151	1124	260	181	115	100	318	23430	42
PNEUMO (PREVNAR)	28251	8028	5653	4096	4858	237	11	13	5355	
HEP B (RECOMBIVAX HB)	27756	6651	6439	4872	535	87	51	24	9095	2
POLIO VIRUS, INACT. (IPOL)	25492	2888	2569	2859	11833	1055	69	24	4168	27
TDAP (ADACEL)	23826	11185	1255	140	138	221	685	101	9690	411

Adverse Events Matrix											
Symptom	COVID19 (COVID19 (PFIZER-BIONTECH))	COVID19 (COVID19 (MODERNA))	COVID19 (COVID19 (JANSSEN))	VARICELLA (VARIVAX)	MEASLES + MUMPS + RUBELLA (MMR II)	PNEUMO (PNEUMOVAX)	ZOSTER (SHINGRIX)	HPV (GARDASIL)	ZOSTER LIVE (ZOSTAVAX)	PNEUMO (PREVNAR13)	INFLUENZA (SEASONAL) (FLUZONE)
Pyrexia	75623	65947	15509	11062	18300	11718	12930	2682	1525	7967	5896
Headache	98033	69094	18288	1423	1957	2911	10625	5059	1773	875	2753
Pain	59168	48915	11765	1706	2875	8160	11135	2277	3942	2070	4296
Fatigue	84683	61161	12715	652	860	1904	9124	3038	734	1085	1242
Injection site erythema	4584	24604	706	10395	10218	13764	7107	1554	7473	5419	4731
Chills	53918	52553	12797	320	704	4248	11200	576	654	1058	2207
Nausea	55990	38816	9316	943	1299	2881	5922	3841	755	696	2133
Pain in extremity	49388	40997	7107	757	586	7714	8666	2067	1429	1872	2078
Dizziness	57809	33703	9476	1042	1171	1631	2816	5677	769	512	2041
Rash	24036	23326	2561	8311	10507	2415	4869	1663	4276	2805	2272
Injection site pain	14380	26598	4140	3397	3625	11672	9601	2056	3216	2839	3751
Erythema	12226	17329	1013	5720	5348	10957	4392	1397	3336	3208	3210
Injection site swelling	4641	19481	872	6515	5435	11002	5012	1358	4683	3606	2935
No adverse event	10128	10547	1090	12336	6526	5185	300	6524	4326	1015	549
Vomiting	24206	15988	3648	1853	3254	1658	1468	2102	309	2399	1875
Myalgia	35574	28747	5538	329	997	2293	6001	1217	555	647	1799
Dyspnoea	42569	23372	5431	747	1302	1435	754	1468	401	804	2012
Pruritus	20935	23107	1711	4141	3953	2033	2752	1021	2809	1231	2625
Arthralgia	37283	24645	4601	327	1660	1489	3330	1710	648	604	974
COVID-19	59387	28317	6203	4	9	8	103	1	3	20	



Onset	COVID19 (COVID19 (PFIZER-BIONTECH))	COVID19 (COVID19 (MODERNA))	COVID19 (COVID19 (JANSSEN))	VARICELLA (VARIVAX)	MEASLES + MUMPS + RUBELLA (MMR II)	PNEUMO (PNEUMOVAX)	ZOSTER (SHINGRIX)	HPV (GARDASIL)	ZOSTER LIVE (ZOSTAVAX)	PNEUMO (PREVNAR13)	INFLUENZA (SEASONAL) (FLUZONE)	HEP B (ENGERIX-B)	INFLUENZA (SEASONAL) (NO BRAND NAME)	PNEUMO (PREVNAR)
0	318883	204488	52028	35872	32874	35732	35271	32243	24892	21214	18896	18955	18909	13503
1	92881	69166	8128	10214	12839	13995	13642	3526	5855	6908	8026	4492	3893	5618
2	32219	19114	1973	4106	5416	3374	2690	1308	2824	2243	2395	1847	1315	1819
3	20291	11916	1761	1659	2057	1050	1301	806	1368	1255	924	870	556	851
4	14576	8311	1299	1225	1461	522	755	627	805	953	471	602	386	574
5	11307	6491	916	1063	1434	376	603	546	608	866	374	491	289	509
6	8874	6159	804	1220	1515	326	433	499	559	757	241	423	229	488
7	10309	13520	940	1660	2331	382	667	703	702	779	410	579	270	509
8	6456	10950	575	1795	2426	350	389	584	476	569	264	361	143	500
9	5299	6222	505	1714	2327	572	337	420	475	520	580	300	270	459
10	5216	4809	467	1742	2200	1029	325	492	562	521	1415	320	555	458
11	3781	3661	412	1167	1353	633	239	357	419	382	818	282	314	317
12	4752	3550	408	956	1023	331	205	333	336	253	366	198	138	294
13	3183	2253	339	601	574	25	114	77	78	113	97	129	70	121
14	4270	3124	510	673	580	61	146	172	159	130	167	200	112	121
15	2722	1606	265	386	379	34	71	79	67	79	80	114	67	70
16	2331	1306	253	332	272	16	66	57	56	76	53	85	46	58
17	2273	1187	191	281	230	32	58	64	57	71	58	72	48	55
18	2118	1129	170	276	210	26	47	52	47	64	48	81	36	62
19	2017	1095	233	216	198	25	58	61	53	56	40	44	40	40
20	1960	1086	184	263	177	31	62	60	48	55	35	82	46	44
21	3095	1349	275	227	191	25	62	74	52	53	59	76	36	46
22	1748	1002	158	130	119	19	41	43	38	40	40	50	26	31
23	1513	911	157	117	106	12	36	32	28	37	17	37	17	31
24	1368	813	153	104	93	10	29	52	31	37	26	42	37	26
25	1230	882	135	72	71	14	35	30	20	19	23	40	26	21
26	1242	916	125	78	58	12	36	54	23	26	23	33	22	32
27	1152	1036	103	67	72	13	37	42	18	19	32	43	22	26
28	1486	5565	139	66	56	19	35	45	30	29	24	56	17	28
29	1132	2754	128	40	55	20	44	36	28	20	21	25	17	17
30	1342	1701	148	57	62	22	58	83	38	30	29	78	52	25
31	1626	1581	185	98	94	37	89	122	62	39	30	111	42	29


